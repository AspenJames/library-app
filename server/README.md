# Library app server

Directory containing the backend code for the library app.

## Express.js API

There is an [Express.js][express] API app within the `src/` directory.
Database connection and table migrations are managed using [Knex][knex] and
[Objection][objection].

### Database configuration

The database configuration is specified in [src/db/knexfile.js][knexfile].
This configures the connection, the migrations directory, and file extension
for Knex.

### Database migrations

Migration files are located in [src/db/migrations/][migrations_dir]. Migration
files may be generated by running `npm run knex migrate:make <name>`, which
will generate a migration file stub in the migrations directory prefixed with a
timestamp.

### Database models

Objection model files are located in [src/db/models][models_dir].

## Local development

There is a docker compose config and Dockerfile for local development. The env
variables defined in [.env][.env] are used by compose, where the necessary
values are piped to the appropriate services.

[.env]: ./.env.sample
[express]: https://expressjs.com/
[knex]: https://knexjs.org/
[knexfile]: ./src/db/knexfile.js
[migrations_dir]: ./src/db/migrations
[models_dir]: ./src/db/models
[objection]: https://vincit.github.io/objection.js/
